# Example bot configuration
# Rename to claude.yaml (or your bot name)

name: Claude
innerName: Claude

# Model configuration
mode: prefill  # or 'chat'
# prefill_thinking: true  # Prefill with <thinking> tag for reasoning
# debug_thinking: true    # Send thinking as dot-prefixed debug message  
# preserve_thinking_context: true  # Keep thinking traces in context (for Opus 4.5)
continuation_model: claude-3-5-sonnet-20241022
temperature: 1.0
max_tokens: 4096
top_p: 1.0

# Context configuration
recency_window_messages: 400  # Optional: Max messages to include
recency_window_characters: 100000  # Optional: Max characters to include
# When both specified, whichever limit is reached first is used
hard_max_characters: 500000  # Hard limit never exceeded (prevents API errors), defaults to 500k (~140k tokens)
rolling_threshold: 50  # Roll context after this many new messages
recent_participant_count: 10  # Number of recent participants for stop sequences
authorized_roles: []  # Roles authorized for .history commands (empty = all allowed)
# authorized_roles: ["Admin", "Moderator"]  # Example: restrict to specific roles

# Image configuration
include_images: true
max_images: 5

# Tool configuration
tools_enabled: true
tool_output_visible: false  # Show tool calls in Discord
max_tool_depth: 100  # Max tool call iterations

# Tool plugins (built-in tools)
# tool_plugins: ['config']  # Enable config plugin for list_config and request_config_change tools

# MCP Servers (optional - configure multiple servers)
# mcp_servers:
#   - name: filesystem
#     command: npx
#     args: ["-y", "@modelcontextprotocol/server-filesystem", "/tmp"]
#   
#   - name: everything
#     command: npx
#     args: ["-y", "@modelcontextprotocol/server-everything"]
#   
#   - name: github
#     command: npx
#     args: ["-y", "@modelcontextprotocol/server-github"]
#     env:
#       GITHUB_TOKEN: "your-github-token"

# Stop sequences (in addition to participant names)
stop_sequences: []

# Retry configuration
llm_retries: 3
discord_backoff_max: 32000  # Max backoff in ms for Discord API

# Optional system prompt
# system_prompt: "You are a helpful assistant."

# Misc
reply_on_random: 500  # Random reply: 1/N chance per message (default 500 = 0.2% chance)
reply_on_name: false  # Reply when name is mentioned (not yet implemented)
max_queued_replies: 1  # Max queued replies before dropping

